<div class="ui-dropdown-box"  [ngStyle]="{'line-height' : itemHeight, 'width': width}">

  <div class="ui-loading-icon">
    <tl-loader *ngIf="isLoading"></tl-loader>
  </div>

  <tl-label *ngIf="label"
            [style.display]="labelPlacement === 'left' ? 'table-cell' : 'block'"
            [labelPlacement]="labelPlacement"
            [labelSize]="labelSize"
            [labelTitle]="label">
  </tl-label>
  <div class="ui-dropdown-wrapper">
  <input cdkOverlayOrigin
         #wrapper
         readonly
         #trigger="cdkOverlayOrigin"
         [attr.disabled]="disabled ? true : null"
         (click)="handleOpenList($event)"
         (keydown)="onKeyDown($event)"
         value="{{ selectedDescription ? selectedDescription : placeholder }}"
         [ngClass]="{ 'ng-invalid' : model?.invalid || controlName?.invalid }"
         [ngStyle]="{'height' : itemHeight, 'line-height' : itemHeight}"
         class="ui-dropdown">
        <div class="ui-dropdown-icon"
             [style.height]="itemHeight"
             [style.transform]="isOpen ? 'rotate(180deg)' : 'rotate(0)'"
             [ngClass]="{ 'disabled': disabled, 'ng-invalid' : model?.invalid || controlName?.invalid }">
          <tl-icon [lib]="'ion'" [style]="'ios'">arrow-down</tl-icon>
        </div>
  </div>
  <input readonly notform class="ui-hidden-input" [(ngModel)]="value">
  <ng-template cdkConnectedOverlay
               (backdropClick)="isOpen = false"
               [cdkConnectedOverlayHasBackdrop]="true"
               [cdkConnectedOverlayOrigin]="trigger"
               [cdkConnectedOverlayBackdropClass]="'cdk-overlay-transparent-backdrop'"
               [cdkConnectedOverlayOpen]="isOpen">
    <tl-overlay-list
      @overlay
      (selectOption)="onSelectOption($event)"
      (search)="onSearch($event)"
      (defaultOption)="onDefaultOption()"
      (findByLetter)="onFindByLetter($event)"
      [customInput]="wrapper"
      [typeOfData]="typeOfData"
      [hasDefaultOption]="defaultOption"
      [defaultOptionText]="placeholder"
      [groupBy]="groupBy"
      [optionSelected]="optionSelected"
      [inputModelIndex]="indexOptionSelectedModel"
      [datasource]="datasource"
      [maxHeight]="maxHeight"
      [itemHeight]="itemHeight"
      [width]="wrapper.offsetWidth + 'px'"
      [icon]="icon"
      [keyText]="keyText"
      [searchOnList]="searchOnList">
    </tl-overlay-list>
  </ng-template>
</div>
